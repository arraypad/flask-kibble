{% extends "kibble/base.html" %}

{% from "kibble/macros/render_form.html" import render_fieldset %}

{% block page_header %}New {{ view.kind() }}{% endblock %}

{% block body %}
    <div class='row'>
        <form role='form' class='form-horizontal' method='POST' action='{{ request.path }}'>
            {% block form_body %}
                {% for fieldset in fieldsets %}
                    <div class='panel {{ fieldset.panel_class|default("panel-default") }}'>
                        {% if fieldset.name %}
                            <div class='panel-heading'>{{ fieldset.name }}</div>
                        {% endif %}
                        <div class='panel-body'>
                            {{ render_fieldset(fieldset) }}
                        </div>
                    </div>
                {% endfor %}
            {% endblock %}

            {% block form_actions %}
                <div class='form-group'>
                    <div class='col-sm-offset-2 col-sm-10'>
                        <button type='submit' class='btn btn-default'>Save</button>
                    </div>
                </div>
            {% endblock %}
        </form>
    </div>
{% endblock %}
