{% extends "crud/base.html" %}

{% macro render_form(form) %}
    {% for field in form %}
        <div class='form-group {% if field.errors %}has-error{% endif %}'>
            {{ field.label(class="control-label col-sm-2") }}
            <div class='col-sm-10'>
                {{ field(class="form-control") }}
                {% if field.errors %}
                    <ul>
                        {% for error in field.errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                    </ul>
                {% endif %}
            </div>
        </div>
    {% endfor %}
{% endmacro %}

{% block body %}
    <div class='row'>
        <h1>New {{ view.kind() }}</h1>
    </div>
    <div class='row'>
        <form role='form' class='form-horizontal' method='POST' action='{{ request.path }}'>
            {% block form_body %}
                {{ render_form(form) }}
            {% endblock %}

            {% block form_actions %}
                <div class='form-group'>
                    <div class='col-sm-offset-2 col-sm-10'>
                        <button type='submit' class='btn btn-default'>Save</button>
                    </div>
                </div>
            {% endblock %}
        </form>
    </div>
{% endblock %}
